{"version":3,"file":"Gantt.min.js","sources":["Gantt.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nclass Gantt {\n\n\t/**\n\t * Constructor\n\t *\n\t * @param {jQuery|HTMLElement|string} container\n\t * @param {object} projectData\n\t */\n\tconstructor(container, projectData) {\n\t\tthis.container = $(container);\n\t\tthis.registerLanguage();\n\t\tthis.options = {\n\t\t\tstyle: {\n\t\t\t\t'tree-row-bar-polygon': {\n\t\t\t\t\t'stroke': '#E74C3C00',\n\t\t\t\t\t'stroke-width': 0,\n\t\t\t\t\t'fill': '#F75C4C',\n\t\t\t\t},\n\t\t\t\t'tree-row-progress-bar-outline': {\n\t\t\t\t\t'stroke': '#E74C3C00',\n\t\t\t\t\t'stroke-width': 0\n\t\t\t\t},\n\t\t\t\t'header-title': {\n\t\t\t\t\t'max-width': '50%'\n\t\t\t\t}\n\t\t\t},\n\t\t\ttitle: {\n\t\t\t\tlabel: 'Gantt',\n\t\t\t\thtml: false,\n\t\t\t},\n\t\t\ttaskList: {\n\t\t\t\tcolumns: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 1,\n\t\t\t\t\t\tlabel: app.vtranslate('JS_NO.', 'Project'),\n\t\t\t\t\t\thtml: true,\n\t\t\t\t\t\tvalue: 'number',\n\t\t\t\t\t\twidth: 65,\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t'task-list-header-label': {\n\t\t\t\t\t\t\t\t'text-align': 'center',\n\t\t\t\t\t\t\t\t'width': '100%'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t'task-list-item-value': {\n\t\t\t\t\t\t\t\t'text-align': 'center',\n\t\t\t\t\t\t\t\t'width': '100%'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{id: 2, label: app.vtranslate('JS_NAME'), value: 'label', width: 280, expander: true},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 3, label: app.vtranslate('JS_PRIORITY'), value: 'priority_label', width: 70, style: {\n\t\t\t\t\t\t\t'task-list-header-label': {\n\t\t\t\t\t\t\t\t'text-align': 'center',\n\t\t\t\t\t\t\t\t'width': '100%'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t'task-list-item-value': {\n\t\t\t\t\t\t\t\t'text-align': 'center',\n\t\t\t\t\t\t\t\t'width': '100%'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 3, label: app.vtranslate('JS_STATUS'), value: 'status_label', width: 100, style: {\n\t\t\t\t\t\t\t'task-list-header-label': {\n\t\t\t\t\t\t\t\t'text-align': 'center',\n\t\t\t\t\t\t\t\t'width': '100%'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t'task-list-item-value': {\n\t\t\t\t\t\t\t\t'text-align': 'center',\n\t\t\t\t\t\t\t\t'width': '100%'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 4,\n\t\t\t\t\t\tlabel: app.vtranslate('JS_DURATION_SHORT', 'Project'),\n\t\t\t\t\t\tvalue: (task) => {\n\t\t\t\t\t\t\treturn task.duration / 24 / 60 / 60;\n\t\t\t\t\t\t},\n\t\t\t\t\t\twidth: 45,\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t'task-list-header-label': {\n\t\t\t\t\t\t\t\t'text-align': 'center',\n\t\t\t\t\t\t\t\t'width': '100%'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t'task-list-item-value': {\n\t\t\t\t\t\t\t\t'text-align': 'center',\n\t\t\t\t\t\t\t\t'width': '100%'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{id: 5, label: app.vtranslate('JS_ASSIGNED', 'Project'), value: 'assigned_user_name', width: 150},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 5, label: '%', value: 'progress', width: 35, style: {\n\t\t\t\t\t\t\t'task-list-header-label': {\n\t\t\t\t\t\t\t\t'text-align': 'center',\n\t\t\t\t\t\t\t\t'width': '100%'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t'task-list-item-value': {\n\t\t\t\t\t\t\t\t'text-align': 'center',\n\t\t\t\t\t\t\t\t'width': '100%'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\tlocale: {\n\t\t\t\tcode: CONFIG.langKey,\n\t\t\t\tname: CONFIG.langKey,\n\t\t\t\tweekdays: [LANG.JS_MONDAY, LANG.JS_TUESDAY, LANG.JS_WEDNESDAY, LANG.JS_THURSDAY, LANG.JS_FRIDAY, LANG.JS_SATURDAY, LANG.JS_SUNDAY],\n\t\t\t\tweekdaysShort: [LANG.JS_MON, LANG.JS_TUE, LANG.JS_WED, LANG.JS_THU, LANG.JS_FRI, LANG.JS_SAT, LANG.JS_SUN],\n\t\t\t\tweekdaysMin: [LANG.JS_MON, LANG.JS_TUE, LANG.JS_WED, LANG.JS_THU, LANG.JS_FRI, LANG.JS_SAT, LANG.JS_SUN],\n\t\t\t\tmonths: [LANG.JS_JANUARY, LANG.JS_FEBRUARY, LANG.JS_MARCH, LANG.JS_APRIL, LANG.JS_MAY, LANG.JS_JUNE, LANG.JS_JULY, LANG.JS_AUGUST, LANG.JS_SEPTEMBER, LANG.JS_NOVEMBER, LANG.JS_OCTOBER, LANG.JS_DECEMBER],\n\t\t\t\tmonthsShort: [LANG.JS_JAN, LANG.JS_FEB, LANG.JS_MAR, LANG.JS_APR, LANG.JS_MAY, LANG.JS_JUN, LANG.JS_JUL, LANG.JS_AUG, LANG.JS_SEP, LANG.JS_NOV, LANG.JS_OCT, LANG.JS_DEC],\n\t\t\t\tordinal: n => `${n}`,\n\t\t\t}\n\t\t};\n\t\tif (typeof projectData !== 'undefined') {\n\t\t\tthis.options.title.label = projectData\n\t\t\tthis.loadProject(projectData);\n\t\t}\n\t}\n\n\t/**\n\t * Register language translations globally (replace old ones)\n\t */\n\tregisterLanguage() {\n\t\t/*GanttMaster.messages.GANTT_ERROR_LOADING_DATA_TASK_REMOVED = app.vtranslate(\"JS_GANTT_ERROR_LOADING_DATA_TASK_REMOVED\", 'Project');\n\t\tGanttMaster.messages.INVALID_DATE_FORMAT = app.vtranslate(\"JS_INVALID_DATE_FORMAT\", 'Project');\n\t\tGanttMaster.messages.GANTT_SEMESTER_SHORT = app.vtranslate(\"JS_GANTT_SEMESTER_SHORT\", 'Project');\n\t\tGanttMaster.messages.GANTT_SEMESTER = app.vtranslate(\"JS_GANTT_SEMESTER\", 'Project');\n\t\tGanttMaster.messages.GANTT_QUARTER_SHORT = app.vtranslate(\"JS_GANTT_QUARTER_SHORT\", 'Project');\n\t\tGanttMaster.messages.GANTT_QUARTER = app.vtranslate(\"JS_GANTT_QUARTER\", 'Project');\n\t\tGanttMaster.messages.GANTT_WEEK = app.vtranslate(\"JS_GANTT_WEEK\", 'Project');\n\t\tGanttMaster.messages.GANTT_WEEK_SHORT = app.vtranslate(\"JS_GANTT_WEEK_SHORT\", 'Project');\n\t\tGantt_i18n.YES = app.vtranslate(\"JS_YES\", 'Project');\n\t\tGantt_i18n.NO = app.vtranslate(\"JS_NO\", 'Project');\n\t\tGantt_i18n.INVALID_DATA = app.vtranslate(\"JS_INVALID_DATA\", 'Project');\n\t\tGantt_i18n.ERROR_ON_FIELD = app.vtranslate(\"JS_ERROR_ON_FIELD\", 'Project');\n\t\tGantt_i18n.OUT_OF_BOUDARIES = app.vtranslate(\"JS_OUT_OF_BOUDARIES\", 'Project');\n\t\tGantt_i18n.ERR_FIELD_MAX_SIZE_EXCEEDED = app.vtranslate(\"JS_ERR_FIELD_MAX_SIZE_EXCEEDED\", 'Project');\n\t\tGantt_i18n.WEEK_SHORT = app.vtranslate(\"JS_WEEK_SHORT\", 'Project');\n\t\tGantt_i18n.PROCEED = app.vtranslate(\"JS_PROCEED\", 'Project');\n\t\tGantt_i18n.PREV = app.vtranslate(\"JS_PREV\", 'Project');\n\t\tGantt_i18n.NEXT = app.vtranslate(\"JS_NEXT\", 'Project');\n\t\tGantt_i18n.HINT_SKIP = app.vtranslate(\"JS_HINT_SKIP\", 'Project');\n\t\tDate.monthNames = App.Fields.Date.fullMonthsTranslated.map(month => month);\n\t\tDate.monthAbbreviations = App.Fields.Date.monthsTranslated.map(month => month);\n\t\tDate.dayAbbreviations = App.Fields.Date.daysTranslated.map(day => day);\n\t\tDate.dayNames = App.Fields.Date.fullDaysTranslated.map(day => day);\n\t\tDate.firstDayOfWeek = CONFIG.firstDayOfWeekNo;\n\t\tDate.defaultFormat = CONFIG.dateFormat;\n\t\tDate.today = app.vtranslate('JS_TODAY');\n\t\tNumber.decimalSeparator = CONFIG.currencyDecimalSeparator;\n\t\tNumber.groupingSeparator = CONFIG.currencyGroupingSeparator;\n\t\tNumber.currencyFormat = \"###,##0.00\";*/\n\t}\n\n\t/**\n\t * Get branch that fulfill statuses\n\t *\n\t * @param {String} moduleName\n\t * @param {String[]} statuses\n\t * @param {Object} current\n\t * @returns {Object}\n\t */\n\tgetBranchesWithStatus(moduleName, statuses, current) {\n\t\tcurrent = {...current};\n\t\tlet children = [];\n\t\tcurrent.children = current.children.map(task => task);\n\t\tfor (let task of current.children) {\n\t\t\tchildren.push(this.getBranchesWithStatus(moduleName, statuses, task));\n\t\t}\n\t\tcurrent.children = children;\n\t\treturn current;\n\t}\n\n\t/**\n\t * Filter project data\n\t *\n\t * @param {Object} projectData\n\t * @returns {Object}\n\t */\n\tfilterProjectData(projectData) {\n\t\tlet newProjectData = Object.assign({}, projectData);\n\t\tlet tree = this.makeTree(newProjectData.tasks);\n\t\tfor (let moduleName in this.filter.status) {\n\t\t\tif (this.filter.status.hasOwnProperty(moduleName)) {\n\t\t\t\ttree = this.getBranchesWithStatus(moduleName, this.filter.status[moduleName], tree);\n\t\t\t}\n\t\t}\n\t\tnewProjectData.tasks = this.flattenTree(tree);\n\t\treturn newProjectData;\n\t}\n\n\t/**\n\t * Load project\n\t */\n\tloadProject(projectData) {\n\t\tthis.projectData = projectData;\n\t\tthis.allTasks = this.projectData.tasks;\n\t\tthis.options.title.label = projectData.title;\n\t\tif (typeof this.allTasks === 'undefined') {\n\t\t\t$('.js-hide-filter').addClass('d-none');\n\t\t\t$('.js-show-add-record').removeClass('d-none');\n\t\t\treturn;\n\t\t}\n\t\tthis.statuses = this.projectData.statuses;\n\t\tthis.filter = {status: this.projectData.activeStatuses};\n\t\tthis.container.closest('form').on('submit', (ev) => {\n\t\t\tev.preventDefault();\n\t\t\tev.stopPropagation();\n\t\t\treturn false;\n\t\t});\n\t\tGanttElastic.mount({\n\t\t\tel: '#' + this.container.attr('id'),\n\t\t\ttasks: this.allTasks,\n\t\t\toptions: this.options\n\t\t});\n\t}\n\n\t/**\n\t * Load project from ajax request\n\t * @param {object} params - request params such as module/action and projectId\n\t */\n\tloadProjectFromAjax(params) {\n\t\tconst progressInstance = jQuery.progressIndicator({blockInfo: {enabled: true}});\n\t\tAppConnector.request(params).done((response) => {\n\t\t\tthis.loadProject(response.result);\n\t\t\tprogressInstance.progressIndicator({mode: 'hide'});\n\t\t});\n\t}\n\n\t/**\n\t * Load new data to gantt\n\t *\n\t * @param {Object} data\n\t */\n\treloadData(data) {\n\t\tthis.gantt.loadProject(data);\n\t}\n\n\t/**\n\t * Save filter and reload data.\n\t *\n\t * @param {Object} filterOptions\n\t */\n\tsaveFilter(filterOptions) {\n\t\tthis.filter = filterOptions;\n\t\tthis.reloadData(this.filterProjectData(this.projectData));\n\t}\n\n\t/**\n\t * Get status from value (object with other props)\n\t * @param {String} value\n\t * @param {String} moduleName\n\t * @returns {Object}\n\t */\n\tgetStatusFromValue(value, moduleName) {\n\t\tfor (let status of this.statuses[moduleName]) {\n\t\t\tif (status.value === value) {\n\t\t\t\treturn Object.assign({}, status);\n\t\t\t}\n\t\t}\n\t\tapp.errorLog(`Status not found [${value}]`);\n\t}\n\n\t/**\n\t * Open modal with status filters\n\t */\n\tshowFiltersModal() {\n\t\tconst self = this;\n\t\tconst box = bootbox.dialog({\n\t\t\tshow: 'false',\n\t\t\tmessage: `<div class=\"js-gantt__filter-modal form\" data-js=\"container\">\n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t<label>${app.vtranslate(\"JS_PROJECT_STATUSES\", 'Project')}:</label>\n\t\t\t\t\t<select class=\"select2 form-control\" id=\"js-gantt__filter-project\" multiple>\n\t\t\t\t\t\t${self.statuses.Project.map((status) => {\n\t\t\t\treturn `<option value=\"${status.value}\" ${this.filter.status.Project.map(status => status.value).indexOf(status.value) >= 0 ? 'selected' : ''}>${status.label}</option>`;\n\t\t\t})}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t<label>${app.vtranslate(\"JS_MILESTONE_STATUSES\", 'Project')}:</label>\n\t\t\t\t\t<select class=\"select2 form-control\" id=\"js-gantt__filter-milestone\" multiple>\n\t\t\t\t\t\t${self.statuses.ProjectMilestone.map((status) => {\n\t\t\t\treturn `<option value=\"${status.value}\" ${this.filter.status.ProjectMilestone.map(status => status.value).indexOf(status.value) >= 0 ? 'selected' : ''}>${status.label}</option>`;\n\t\t\t})}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t<label>${app.vtranslate(\"JS_TASK_STATUSES\", 'Project')}:</label>\n\t\t\t\t\t<select class=\"select2 form-control\" id=\"js-gantt__filter-task\" multiple>\n\t\t\t\t\t\t${self.statuses.ProjectTask.map((status) => {\n\t\t\t\treturn `<option value=\"${status.value}\" ${this.filter.status.ProjectTask.map(status => status.value).indexOf(status.value) >= 0 ? 'selected' : ''}>${status.label}</option>`;\n\t\t\t})}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</div>`,\n\t\t\ttitle: '<span class=\"fas fa-filter\"></span> ' + app.vtranslate('JS_FILTER_BY_STATUSES', 'Project'),\n\t\t\tbuttons: {\n\t\t\t\tsuccess: {\n\t\t\t\t\tlabel: '<span class=\"fas fa-check mr-1\"></span>' + app.vtranslate('JS_UPDATE_GANTT', 'Project'),\n\t\t\t\t\tclassName: \"btn-success\",\n\t\t\t\t\tcallback: function () {\n\t\t\t\t\t\tself.saveFilter({\n\t\t\t\t\t\t\tstatus: {\n\t\t\t\t\t\t\t\tProject: $('#js-gantt__filter-project', this).val().map((status) => {\n\t\t\t\t\t\t\t\t\treturn self.getStatusFromValue(status, 'Project');\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tProjectMilestone: $('#js-gantt__filter-milestone', this).val().map((status) => {\n\t\t\t\t\t\t\t\t\treturn self.getStatusFromValue(status, 'ProjectMilestone');\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tProjectTask: $('#js-gantt__filter-task', this).val().map((status) => {\n\t\t\t\t\t\t\t\t\treturn self.getStatusFromValue(status, 'ProjectTask');\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdanger: {\n\t\t\t\t\tlabel: '<span class=\"fas fa-times mr-1\"></span>' + app.vtranslate('JS_CANCEL'),\n\t\t\t\t\tclassName: \"btn-danger\",\n\t\t\t\t\tcallback: function () {\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tApp.Fields.Picklist.showSelect2ElementView($(box).find('.select2'));\n\t\tbox.show();\n\t}\n\n\t/**\n\t * Register events for gantt actions in current container\n\t */\n\tregisterEvents() {\n\t\tconst container = this.container;\n\t\tcontainer.find('.js-gantt__front-filter').on('click', function (e) {\n\t\t\te.preventDefault();\n\t\t\tself.showFiltersModal();\n\t\t});\n\t\tcontainer.find('[data-toggle=\"tooltip\"]').tooltip();\n\t}\n}\n"],"names":["container","projectData","$","registerLanguage","options","style","title","label","html","taskList","columns","id","app","vtranslate","value","width","expander","task","duration","locale","code","CONFIG","langKey","name","weekdays","LANG","JS_MONDAY","JS_TUESDAY","JS_WEDNESDAY","JS_THURSDAY","JS_FRIDAY","JS_SATURDAY","JS_SUNDAY","weekdaysShort","JS_MON","JS_TUE","JS_WED","JS_THU","JS_FRI","JS_SAT","JS_SUN","weekdaysMin","months","JS_JANUARY","JS_FEBRUARY","JS_MARCH","JS_APRIL","JS_MAY","JS_JUNE","JS_JULY","JS_AUGUST","JS_SEPTEMBER","JS_NOVEMBER","JS_OCTOBER","JS_DECEMBER","monthsShort","JS_JAN","JS_FEB","JS_MAR","JS_APR","JS_JUN","JS_JUL","JS_AUG","JS_SEP","JS_NOV","JS_OCT","JS_DEC","ordinal","n","loadProject","moduleName","statuses","current","children","map","push","getBranchesWithStatus","Object","assign","tree","makeTree","newProjectData","tasks","filter","status","hasOwnProperty","flattenTree","allTasks","addClass","removeClass","activeStatuses","closest","on","ev","preventDefault","stopPropagation","GanttElastic","mount","el","attr","params","progressInstance","jQuery","progressIndicator","blockInfo","enabled","AppConnector","request","done","response","result","mode","data","gantt","filterOptions","reloadData","filterProjectData","errorLog","self","box","bootbox","dialog","show","message","Project","indexOf","ProjectMilestone","ProjectTask","buttons","success","className","callback","saveFilter","val","getStatusFromValue","danger","App","Fields","Picklist","showSelect2ElementView","find","e","showFiltersModal","tooltip"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;qBAWC,eAAYA,SAAZ,CAAuBC,WAAvB,CAAoC,4BACnC,KAAKD,SAAL,CAAiBE,EAAEF,SAAF,CADkB,CAEnC,KAAKG,gBAAL,EAFmC,CAGnC,KAAKC,OAAL,CAAe,CACdC,MAAO,CACN,uBAAwB,CACvB,OAAU,WADa,CAEvB,eAAgB,CAFO,CAGvB,KAAQ,SAHe,CADlB,CAMN,gCAAiC,CAChC,OAAU,WADsB,CAEhC,eAAgB,CAFgB,CAN3B,CAUN,eAAgB,CACf,YAAa,KADE,CAVV,CADO,CAedC,MAAO,CACNC,MAAO,OADD,CAENC,OAFM,CAfO,CAmBdC,SAAU,CACTC,QAAS,CACR,CACCC,GAAI,CADL,CAECJ,MAAOK,IAAIC,UAAJ,CAAe,QAAf,CAAyB,SAAzB,CAFR,CAGCL,OAHD,CAICM,MAAO,QAJR,CAKCC,MAAO,EALR,CAMCV,MAAO,CACN,yBAA0B,CACzB,aAAc,QADW,CAEzB,MAAS,MAFgB,CADpB,CAKN,uBAAwB,CACvB,aAAc,QADS,CAEvB,MAAS,MAFc,CALlB,CANR,CADQ,CAkBR,CAACM,GAAI,CAAL,CAAQJ,MAAOK,IAAIC,UAAJ,CAAe,SAAf,CAAf,CAA0CC,MAAO,OAAjD,CAA0DC,MAAO,GAAjE,CAAsEC,WAAtE,CAlBQ,CAmBR,CACCL,GAAI,CADL,CACQJ,MAAOK,IAAIC,UAAJ,CAAe,aAAf,CADf,CAC8CC,MAAO,gBADrD,CACuEC,MAAO,EAD9E,CACkFV,MAAO,CACvF,yBAA0B,CACzB,aAAc,QADW,CAEzB,MAAS,MAFgB,CAD6D,CAKvF,uBAAwB,CACvB,aAAc,QADS,CAEvB,MAAS,MAFc,CAL+D,CADzF,CAnBQ,CA+BR,CACCM,GAAI,CADL,CACQJ,MAAOK,IAAIC,UAAJ,CAAe,WAAf,CADf,CAC4CC,MAAO,cADnD,CACmEC,MAAO,GAD1E,CAC+EV,MAAO,CACpF,yBAA0B,CACzB,aAAc,QADW,CAEzB,MAAS,MAFgB,CAD0D,CAKpF,uBAAwB,CACvB,aAAc,QADS,CAEvB,MAAS,MAFc,CAL4D,CADtF,CA/BQ,CA2CR,CACCM,GAAI,CADL,CAECJ,MAAOK,IAAIC,UAAJ,CAAe,mBAAf,CAAoC,SAApC,CAFR,CAGCC,MAAO,eAACG,IAAD,CAAU,CAChB,YAAYC,QAAL,CAAgB,EAAhB,CAAqB,EAArB,CAA0B,EACjC,CALF,CAMCH,MAAO,EANR,CAOCV,MAAO,CACN,yBAA0B,CACzB,aAAc,QADW,CAEzB,MAAS,MAFgB,CADpB,CAKN,uBAAwB,CACvB,aAAc,QADS,CAEvB,MAAS,MAFc,CALlB,CAPR,CA3CQ,CA6DR,CAACM,GAAI,CAAL,CAAQJ,MAAOK,IAAIC,UAAJ,CAAe,aAAf,CAA8B,SAA9B,CAAf,CAAyDC,MAAO,oBAAhE,CAAsFC,MAAO,GAA7F,CA7DQ,CA8DR,CACCJ,GAAI,CADL,CACQJ,MAAO,GADf,CACoBO,MAAO,UAD3B,CACuCC,MAAO,EAD9C,CACkDV,MAAO,CACvD,yBAA0B,CACzB,aAAc,QADW,CAEzB,MAAS,MAFgB,CAD6B,CAKvD,uBAAwB,CACvB,aAAc,QADS,CAEvB,MAAS,MAFc,CAL+B,CADzD,CA9DQ,CADA,CAnBI,CAgGdc,OAAQ,CACPC,KAAMC,OAAOC,OADN,CAEPC,KAAMF,OAAOC,OAFN,CAGPE,SAAU,CAACC,KAAKC,SAAN,CAAiBD,KAAKE,UAAtB,CAAkCF,KAAKG,YAAvC,CAAqDH,KAAKI,WAA1D,CAAuEJ,KAAKK,SAA5E,CAAuFL,KAAKM,WAA5F,CAAyGN,KAAKO,SAA9G,CAHH,CAIPC,cAAe,CAACR,KAAKS,MAAN,CAAcT,KAAKU,MAAnB,CAA2BV,KAAKW,MAAhC,CAAwCX,KAAKY,MAA7C,CAAqDZ,KAAKa,MAA1D,CAAkEb,KAAKc,MAAvE,CAA+Ed,KAAKe,MAApF,CAJR,CAKPC,YAAa,CAAChB,KAAKS,MAAN,CAAcT,KAAKU,MAAnB,CAA2BV,KAAKW,MAAhC,CAAwCX,KAAKY,MAA7C,CAAqDZ,KAAKa,MAA1D,CAAkEb,KAAKc,MAAvE,CAA+Ed,KAAKe,MAApF,CALN,CAMPE,OAAQ,CAACjB,KAAKkB,UAAN,CAAkBlB,KAAKmB,WAAvB,CAAoCnB,KAAKoB,QAAzC,CAAmDpB,KAAKqB,QAAxD,CAAkErB,KAAKsB,MAAvE,CAA+EtB,KAAKuB,OAApF,CAA6FvB,KAAKwB,OAAlG,CAA2GxB,KAAKyB,SAAhH,CAA2HzB,KAAK0B,YAAhI,CAA8I1B,KAAK2B,WAAnJ,CAAgK3B,KAAK4B,UAArK,CAAiL5B,KAAK6B,WAAtL,CAND,CAOPC,YAAa,CAAC9B,KAAK+B,MAAN,CAAc/B,KAAKgC,MAAnB,CAA2BhC,KAAKiC,MAAhC,CAAwCjC,KAAKkC,MAA7C,CAAqDlC,KAAKsB,MAA1D,CAAkEtB,KAAKmC,MAAvE,CAA+EnC,KAAKoC,MAApF,CAA4FpC,KAAKqC,MAAjG,CAAyGrC,KAAKsC,MAA9G,CAAsHtC,KAAKuC,MAA3H,CAAmIvC,KAAKwC,MAAxI,CAAgJxC,KAAKyC,MAArJ,CAPN,CAQPC,QAAS,8BAAQC,CAAR,CARF,CAhGM,CAHoB,CA8GR,WAAvB,oBA9G+B,GA+GlC,KAAKhE,OAAL,CAAaE,KAAb,CAAmBC,KAAnB,CAA2BN,WA/GO,CAgHlC,KAAKoE,WAAL,CAAiBpE,WAAjB,CAhHkC,EAkHnC,oFAKkB,sEAwCGqE,WAAYC,SAAUC,QAAS,CACpDA,oBAAcA,OAAd,CADoD,CAEpD,aAAe,EAAf,CACAA,QAAQC,QAAR,CAAmBD,QAAQC,QAAR,CAAiBC,GAAjB,CAAqB,0BAAA,CAArB,CAHiC,iFAIpD,cAASzD,IAAT,WAAiBuD,QAAQC,QAAzB,4GAASxD,IAAT,aACCwD,SAASE,IAAT,CAAc,KAAKC,qBAAL,CAA2BN,UAA3B,CAAuCC,QAAvC,CAAiDtD,IAAjD,CAAd,EALmD,sLAQpD,eADQwD,QAAR,CAAmBA,QACnB,CAAOD,OACP,6DAQiBvE,YAAa,oBACT4E,OAAOC,MAAP,CAAc,EAAd,CAAkB7E,WAAlB,CADS,CAE1B8E,KAAO,KAAKC,QAAL,CAAcC,eAAeC,KAA7B,CAFmB,CAG9B,IAAK,cAAL,SAA4BC,MAAL,CAAYC,MAAnC,CACK,KAAKD,MAAL,CAAYC,MAAZ,CAAmBC,cAAnB,CAAkCf,UAAlC,CADL,GAEES,KAAO,KAAKH,qBAAL,CAA2BN,UAA3B,CAAuC,KAAKa,MAAL,CAAYC,MAAZ,CAAmBd,UAAnB,CAAvC,CAAuES,IAAvE,CAFT,EAMA,sBADeG,KAAf,CAAuB,KAAKI,WAAL,CAAiBP,IAAjB,CACvB,CAAOE,cACP,iDAKWhF,YAAa,aACnBA,WAAL,CAAmBA,WADK,CAExB,KAAKsF,QAAL,CAAgB,KAAKtF,WAAL,CAAiBiF,KAFT,CAGxB,KAAK9E,OAAL,CAAaE,KAAb,CAAmBC,KAAnB,CAA2BN,YAAYK,KAHf,CAIK,WAAzB,cAAYiF,QAJQ,EAKvBrF,EAAE,iBAAF,EAAqBsF,QAArB,CAA8B,QAA9B,CALuB,QAMrB,qBAAF,EAAyBC,WAAzB,CAAqC,QAArC,CANuB,OASxB,KAAKlB,QAAL,CAAgB,KAAKtE,WAAL,CAAiBsE,QATT,CAUxB,KAAKY,MAAL,CAAc,CAACC,OAAQ,KAAKnF,WAAL,CAAiByF,cAA1B,CAVU,CAWxB,KAAK1F,SAAL,CAAe2F,OAAf,CAAuB,MAAvB,EAA+BC,EAA/B,CAAkC,QAAlC,CAA4C,SAACC,EAAD,CAAQ,CAGnD,UAFGC,cAAH,EAEA,CADAD,GAAGE,eAAH,EACA,GACA,CAJD,CAXwB,CAgBxBC,aAAaC,KAAb,CAAmB,CAClBC,GAAI,IAAM,KAAKlG,SAAL,CAAemG,IAAf,CAAoB,IAApB,CADQ,CAElBjB,MAAO,KAAKK,QAFM,CAGlBnF,QAAS,KAAKA,OAHI,CAAnB,CAhBwB,CAqBxB,iEAMmBgG,OAAQ,gBACrBC,iBAAmBC,OAAOC,iBAAP,CAAyB,CAACC,UAAW,CAACC,UAAD,CAAZ,CAAzB,CADE,CAE3BC,aAAaC,OAAb,CAAqBP,MAArB,EAA6BQ,IAA7B,CAAkC,SAACC,QAAD,CAAc,CAC/C,MAAKxC,WAAL,CAAiBwC,SAASC,MAA1B,CAD+C,CAE/CT,iBAAiBE,iBAAjB,CAAmC,CAACQ,KAAM,MAAP,CAAnC,EACA,CAHD,EAIA,+CAOUC,KAAM,CAChB,KAAKC,KAAL,CAAW5C,WAAX,CAAuB2C,IAAvB,EACA,+CAOUE,cAAe,CACzB,KAAK/B,MAAL,CAAc+B,aADW,CAEzB,KAAKC,UAAL,CAAgB,KAAKC,iBAAL,CAAuB,KAAKnH,WAA5B,CAAhB,EACA,+DAQkBa,MAAOwD,WAAY,oFACrC,eAASc,MAAT,YAAmB,KAAKb,QAAL,CAAcD,UAAd,CAAnB,gHACC,GADQc,MACR,cAAIA,OAAOtE,KAAP,GAAiBA,KAArB,CACC,cAAcgE,MAAP,CAAc,EAAd,CAAkBM,MAAlB,CAH4B,6LAMrCxE,IAAIyG,QAAJ,sBAAkCvG,KAAlC,MACA,4DAKkB,iBACZwG,KAAO,IADK,CAEZC,IAAMC,QAAQC,MAAR,CAAe,CAC1BC,KAAM,OADoB,CAE1BC,6HAEW/G,IAAIC,UAAJ,CAAe,qBAAf,CAAsC,SAAtC,CAFX,mHAIKyG,KAAK/C,QAAL,CAAcqD,OAAd,CAAsBlD,GAAtB,CAA0B,SAACU,MAAD,CAAY,CAC1C,yBAAyBA,OAAOtE,KAAhC,OAA0H,CAAhF,SAAKqE,MAAL,CAAYC,MAAZ,CAAmBwC,OAAnB,CAA2BlD,GAA3B,CAA+B,+BAAiB5D,KAAjB,CAA/B,EAAuD+G,OAAvD,CAA+DzC,OAAOtE,KAAtE,EAAoF,UAApF,CAAiG,EAA3I,MAAiJsE,OAAO7E,KAAxJ,YACA,CAFI,CAJL,4FAUUK,IAAIC,UAAJ,CAAe,uBAAf,CAAwC,SAAxC,CAVV,qHAYKyG,KAAK/C,QAAL,CAAcuD,gBAAd,CAA+BpD,GAA/B,CAAmC,SAACU,MAAD,CAAY,CACnD,yBAAyBA,OAAOtE,KAAhC,OAAmI,CAAzF,SAAKqE,MAAL,CAAYC,MAAZ,CAAmB0C,gBAAnB,CAAoCpD,GAApC,CAAwC,+BAAiB5D,KAAjB,CAAxC,EAAgE+G,OAAhE,CAAwEzC,OAAOtE,KAA/E,EAA6F,UAA7F,CAA0G,EAApJ,MAA0JsE,OAAO7E,KAAjK,YACA,CAFI,CAZL,4FAkBUK,IAAIC,UAAJ,CAAe,kBAAf,CAAmC,SAAnC,CAlBV,gHAoBKyG,KAAK/C,QAAL,CAAcwD,WAAd,CAA0BrD,GAA1B,CAA8B,SAACU,MAAD,CAAY,CAC9C,yBAAyBA,OAAOtE,KAAhC,OAA8H,CAApF,SAAKqE,MAAL,CAAYC,MAAZ,CAAmB2C,WAAnB,CAA+BrD,GAA/B,CAAmC,+BAAiB5D,KAAjB,CAAnC,EAA2D+G,OAA3D,CAAmEzC,OAAOtE,KAA1E,EAAwF,UAAxF,CAAqG,EAA/I,MAAqJsE,OAAO7E,KAA5J,YACA,CAFI,CApBL,sDAF0B,CA4B1BD,MAAO,uCAAyCM,IAAIC,UAAJ,CAAe,uBAAf,CAAwC,SAAxC,CA5BtB,CA6B1BmH,QAAS,CACRC,QAAS,CACR1H,MAAO,0CAA4CK,IAAIC,UAAJ,CAAe,iBAAf,CAAkC,SAAlC,CAD3C,CAERqH,UAAW,aAFH,CAGRC,SAAU,mBAAY,CACrBb,KAAKc,UAAL,CAAgB,CACfhD,OAAQ,CACPwC,QAAS1H,EAAE,2BAAF,CAA+B,IAA/B,EAAqCmI,GAArC,GAA2C3D,GAA3C,CAA+C,SAACU,MAAD,CAAY,CACnE,YAAYkD,kBAAL,CAAwBlD,MAAxB,CAAgC,SAAhC,CACP,CAFQ,CADF,CAIP0C,iBAAkB5H,EAAE,6BAAF,CAAiC,IAAjC,EAAuCmI,GAAvC,GAA6C3D,GAA7C,CAAiD,SAACU,MAAD,CAAY,CAC9E,YAAYkD,kBAAL,CAAwBlD,MAAxB,CAAgC,kBAAhC,CACP,CAFiB,CAJX,CAOP2C,YAAa7H,EAAE,wBAAF,CAA4B,IAA5B,EAAkCmI,GAAlC,GAAwC3D,GAAxC,CAA4C,SAACU,MAAD,CAAY,CACpE,YAAYkD,kBAAL,CAAwBlD,MAAxB,CAAgC,aAAhC,CACP,CAFY,CAPN,CADO,CAAhB,EAaA,CAjBO,CADD,CAoBRmD,OAAQ,CACPhI,MAAO,0CAA4CK,IAAIC,UAAJ,CAAe,WAAf,CAD5C,CAEPqH,UAAW,YAFJ,CAGPC,SAAU,mBAAY,EAHf,CApBA,CA7BiB,CAAf,CAFM,CA2DlBK,IAAIC,MAAJ,CAAWC,QAAX,CAAoBC,sBAApB,CAA2CzI,EAAEqH,GAAF,EAAOqB,IAAP,CAAY,UAAZ,CAA3C,CA3DkB,CA4DlBrB,IAAIG,IAAJ,GACA,wDAKgB,CAChB,cAAkB,KAAK1H,SAAvB,CACAA,UAAU4I,IAAV,CAAe,yBAAf,EAA0ChD,EAA1C,CAA6C,OAA7C,CAAsD,SAAUiD,CAAV,CAAa,CAClEA,EAAE/C,cAAF,EADkE,CAElEwB,KAAKwB,gBAAL,GACA,CAHD,CAFgB,CAMhB9I,UAAU4I,IAAV,CAAe,yBAAf,EAA0CG,OAA1C,GACA"}