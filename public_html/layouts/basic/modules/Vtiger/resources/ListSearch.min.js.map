{"version":3,"file":"ListSearch.min.js","sources":["ListSearch.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\"YetiForce_ListSearch_Js\", {\n\tgetInstance: function (container, noEvents, reletedInstance, moduleName) {\n\t\tif (typeof moduleName === \"undefined\") {\n\t\t\tmoduleName = app.getModuleName();\n\t\t}\n\t\tlet moduleClassName = module + '_ListSearch_Js',\n\t\t\tinstance;\n\t\tif (typeof window[moduleClassName] !== \"undefined\") {\n\t\t\tinstance = new window[moduleClassName](container, noEvents, reletedInstance);\n\t\t} else {\n\t\t\tinstance = new window['YetiForce_ListSearch_Js'](container, noEvents, reletedInstance);\n\t\t}\n\t\tinstance.moduleName = moduleName;\n\t\treturn instance;\n\t}\n}, {\n\tmoduleName: false,\n\tcontainer: false,\n\treletedInstance: false,\n\tviewName: false,\n\tinit: function (container, noEvents, reletedInstance) {\n\t\tif (typeof container === \"undefined\") {\n\t\t\tcontainer = jQuery('.bodyContents');\n\t\t}\n\t\tthis.setContainer(container);\n\t\tif (noEvents != true && this.getContainer().find('[data-trigger=\"listSearch\"]').length) {\n\t\t\tthis.initialize();\n\t\t}\n\t\tthis.reletedInstance = reletedInstance;\n\t},\n\tsetContainer: function (container) {\n\t\tthis.container = container;\n\t},\n\tgetContainer: function () {\n\t\treturn this.container;\n\t},\n\tsetViewName: function (viewName) {\n\t\tthis.viewName = viewName;\n\t},\n\t/**\n\t * Function  to initialize the advance filter\n\t */\n\tinitialize: function () {\n\t\tthis.registerEvents();\n\t},\n\tgetAlphabetSearchField: function () {\n\t\treturn jQuery(\"#alphabetSearchKey\").val();\n\t},\n\tgetAlphabetSearchValue: function () {\n\t\treturn jQuery(\"#alphabetValue\").val();\n\t},\n\tregisterListSearch: function () {\n\t\tvar thisInstance = this;\n\t\tvar listViewContainer = this.getContainer();\n\t\tlistViewContainer.find('[data-trigger=\"listSearch\"]').on('click', function (e) {\n\t\t\tthisInstance.reloadList();\n\t\t});\n\t\tlistViewContainer.find('input.listSearchContributor').on('keypress', function (e) {\n\t\t\tif (e.keyCode == 13) {\n\t\t\t\tthisInstance.triggerListSearch();\n\t\t\t}\n\t\t});\n\t\tlistViewContainer.find('.removeSearchConditions').on('click', function () {\n\t\t\tthisInstance.reloadList({search_params: [], search_key: '', search_value: '', operator: ''});\n\t\t});\n\t},\n\tregisterListViewSelect: function () {\n\t\tvar listInstance = this;\n\t\tvar listViewContainer = this.getContainer();\n\t\tlistViewContainer.find('.listViewEntriesTable .select2noactive').each(function (index, domElement) {\n\t\t\tvar select = $(domElement);\n\t\t\tif (!select.data('select2')) {\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(select, {placeholder: app.vtranslate('JS_SELECT_AN_OPTION')});\n\t\t\t}\n\t\t});\n\t\tif (app.getMainParams('autoRefreshListOnChange') == '1') {\n\t\t\tlistViewContainer.find('.listViewEntriesTable select').on('change', function (e) {\n\t\t\t\tlistInstance.triggerListSearch();\n\t\t\t});\n\t\t\tlistViewContainer.find('.listViewEntriesTable .picklistSearchField').on('apply.daterangepicker', function (e) {\n\t\t\t\tlistInstance.triggerListSearch();\n\t\t\t});\n\t\t\tlistViewContainer.find('.listViewEntriesTable .dateField').on('DatePicker.onHide', function (e, y) {\n\t\t\t\tvar prevVal = $(this).data('prevVal');\n\t\t\t\tvar value = $(this).val();\n\t\t\t\tif (prevVal != value) {\n\t\t\t\t\tlistInstance.triggerListSearch();\n\t\t\t\t}\n\t\t\t});\n\t\t\tlistViewContainer.find('.clockPicker').on('change', function () {\n\t\t\t\tlistInstance.triggerListSearch();\n\t\t\t})\n\t\t}\n\t},\n\tresetPagination: function () {\n\t\t//To unmark the all the selected ids\n\t\tjQuery('#deSelectAllMsg').trigger('click');\n\t\tjQuery('#recordsCount').val('');\n\t\t//To Set the page number as first page\n\t\tjQuery('#pageNumber').val('1');\n\t\tjQuery('#pageToJump').val('1');\n\t\tjQuery('#totalPageCount').text(\"\");\n\t\tjQuery('.pagination').data('totalCount', 0);\n\t},\n\ttriggerListSearch: function () {\n\t\tvar listInstance = this;\n\t\tvar listViewContainer = listInstance.getContainer();\n\t\tlistViewContainer.find('[data-trigger=\"listSearch\"]').trigger(\"click\");\n\t},\n\tregisterDateListSearch: function (container) {\n\t\tApp.Fields.Date.registerRange(this.getContainer().find('.dateRangeField'));\n\t},\n\tregisterTimeListSearch: function () {\n\t\tapp.registerEventForClockPicker();\n\t},\n\tregisterAlphabetClick: function () {\n\t\tvar thisInstance = this;\n\t\tthis.getContainer().find('.alphabetBtn').on('click', function () {\n\t\t\tapp.showModalWindow($('.alphabetModal').html(), function (data) {\n\t\t\t\tthisInstance.registerEventForAlphabetSearch(data);\n\t\t\t});\n\t\t});\n\t},\n\tgetCurrentCvId: function () {\n\t\treturn jQuery('#customFilter').find('option:selected').data('id');\n\t},\n\tregisterEventForAlphabetSearch: function (modalContainer) {\n\t\tvar thisInstance = this;\n\t\tmodalContainer.find('.alphabetSearch').on('click', function (e) {\n\t\t\tvar alphabet = jQuery(e.currentTarget).find('a').text();\n\t\t\tvar cvId = thisInstance.getCurrentCvId();\n\t\t\tvar AlphabetSearchKey = thisInstance.getAlphabetSearchField();\n\t\t\tvar urlParams = {\n\t\t\t\tviewname: cvId,\n\t\t\t\tsearch_key: AlphabetSearchKey,\n\t\t\t\tsearch_value: alphabet,\n\t\t\t\toperator: 's',\n\t\t\t\tpage: 1\n\t\t\t}\n\t\t\tthisInstance.resetPagination();\n\t\t\tthisInstance.reloadList(urlParams);\n\t\t\tapp.hideModalWindow();\n\t\t});\n\t\tmodalContainer.find('.removeAlfabetCondition').on('click', function () {\n\t\t\tthisInstance.reloadList({search_key: '', search_value: '', operator: ''});\n\t\t\tapp.hideModalWindow();\n\t\t})\n\t},\n\tupdatePaginationOnAlphabetChange: function (alphabet, AlphabetSearchKey) {\n\t\tvar thisInstance = this;\n\t\tvar params = {};\n\t\tparams['module'] = thisInstance.moduleName;\n\t\tparams['parent'] = app.getParentModuleName()\n\t\tparams['view'] = 'Pagination';\n\t\tparams['page'] = 1;\n\t\tparams['mode'] = 'getPagination';\n\t\tparams['search_key'] = AlphabetSearchKey\n\t\tparams['search_value'] = alphabet\n\t\tparams['operator'] = 's';\n\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tjQuery('.paginationDiv').html(data);\n\t\t\tvar instance = thisInstance.getInstanceView();\n\t\t\tif (instance && jQuery.isFunction(instance.registerPageNavigationEvents)) {\n\t\t\t\tinstance.registerPageNavigationEvents();\n\t\t\t}\n\t\t});\n\t},\n\tgetListSearchParams: function (urlSearchParams) {\n\t\tvar listViewPageDiv = this.getContainer();\n\t\tvar listViewTable = listViewPageDiv.find('.listViewEntriesTable');\n\t\tvar searchParams = [];\n\t\tlistViewTable.find('.listSearchContributor').each(function (index, domElement) {\n\t\t\tvar searchInfo = [];\n\t\t\tvar searchContributorElement = jQuery(domElement);\n\t\t\tvar fieldInfo = searchContributorElement.data('fieldinfo');\n\t\t\tvar fieldName = searchContributorElement.attr('name');\n\t\t\tvar searchValue = searchContributorElement.val();\n\t\t\tif (typeof searchValue == \"object\") {\n\t\t\t\tif (searchValue == null) {\n\t\t\t\t\tsearchValue = \"\";\n\t\t\t\t} else {\n\t\t\t\t\tsearchValue = searchValue.join('##');\n\t\t\t\t}\n\t\t\t}\n\t\t\tsearchValue = searchValue.trim();\n\t\t\tif (searchValue.length <= 0) {\n\t\t\t\t//continue\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tvar searchOperator = 'a';\n\t\t\tif (fieldInfo.hasOwnProperty(\"searchOperator\")) {\n\t\t\t\tsearchOperator = fieldInfo.searchOperator;\n\t\t\t} else if (jQuery.inArray(fieldInfo.type, ['modules', 'time', 'userCreator', 'owner', 'picklist', 'tree', 'boolean', 'fileLocationType', 'userRole', 'companySelect', 'multiReferenceValue']) >= 0) {\n\t\t\t\tsearchOperator = 'e';\n\t\t\t} else if (fieldInfo.type == \"date\" || fieldInfo.type == \"datetime\") {\n\t\t\t\tsearchOperator = 'bw';\n\t\t\t} else if (fieldInfo.type == 'multipicklist' || fieldInfo.type == 'categoryMultipicklist') {\n\t\t\t\tsearchOperator = 'c';\n\t\t\t}\n\t\t\tlet sourceFieldName = searchContributorElement.data('sourceFieldName');\n\t\t\tif (sourceFieldName) {\n\t\t\t\tsearchInfo.push(fieldName + ':' + searchContributorElement.data('moduleName') + ':' + sourceFieldName);\n\t\t\t} else {\n\t\t\t\tsearchInfo.push(fieldName);\n\t\t\t}\n\t\t\tsearchInfo.push(searchOperator);\n\t\t\tsearchInfo.push(searchValue);\n\t\t\tif (fieldInfo.type == 'tree' || fieldInfo.type == 'categoryMultipicklist') {\n\t\t\t\tvar searchInSubcategories = jQuery('.listViewHeaders .searchInSubcategories[data-columnname=\"' + fieldName + '\"]').prop('checked');\n\t\t\t\tsearchInfo.push(searchInSubcategories);\n\t\t\t}\n\t\t\tsearchParams.push(searchInfo);\n\t\t});\n\t\tif (urlSearchParams) {\n\t\t\tvar valueInSearch = null;\n\t\t\tvar url = app.getUrlVar('search_params');\n\t\t\tif (url != undefined && url.length) {\n\t\t\t\tvar lengthUrl = url.length;\n\t\t\t\tif (url.charAt(lengthUrl - 1) === '#') {\n\t\t\t\t\turl = url.substr(0, lengthUrl - 1);\n\t\t\t\t}\n\t\t\t\turl = JSON.parse(decodeURIComponent(url));\n\t\t\t\t$.each(url[0], function (index, value) {\n\t\t\t\t\tvar exist = false;\n\t\t\t\t\t$.each(searchParams, function (index, searchParam) {\n\t\t\t\t\t\tif (searchParam[0] == value[0]) {\n\t\t\t\t\t\t\texist = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tif (value[0].indexOf(':') === -1) {\n\t\t\t\t\t\tvalueInSearch = listViewTable.find('.listSearchContributor[name=\"' + value[0] + '\"]').val();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet fieldRelation = value[0].split(':');\n\t\t\t\t\t\tvalueInSearch = listViewTable.find('.listSearchContributor[name=\"' + fieldRelation[0] + '\"][data-module-name=\"' + fieldRelation[1] + '\"][data-source-field-name=\"' + fieldRelation[2] + '\"]').val();\n\t\t\t\t\t}\n\t\t\t\t\tif (exist == false &&  valueInSearch != '' && valueInSearch !== null) {\n\t\t\t\t\t\tsearchParams.push(value);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn [searchParams];\n\t},\n\tgetInstanceByView: function () {\n\t\tvar viewName = this.viewName ? this.viewName : app.getViewName();\n\t\tvar instance = false;\n\t\tif (viewName === 'RecordsList') {\n\t\t\tinstance = this.reletedInstance;\n\t\t\tinstance.reloadFunctionName = 'loadRecordList';\n\t\t\tinstance.execute = ['updatePagination'];\n\t\t} else if (this.reletedInstance) {\n\t\t\tinstance = this.reletedInstance;\n\t\t\tinstance.reloadFunctionName = 'loadRelatedList';\n\t\t} else if (viewName === 'Detail') {\n\t\t\tinstance = Vtiger_Detail_Js.getInstance();\n\t\t\tinstance.reloadFunctionName = 'loadRelatedList';\n\t\t} else if (viewName == 'List') {\n\t\t\tinstance = new Vtiger_List_Js();\n\t\t\tinstance.reloadFunctionName = 'getListViewRecords';\n\t\t\tinstance.execute = ['updatePagination'];\n\t\t} else if (viewName == 'ListPreview') {\n\t\t\tinstance = window.pageController;\n\t\t\tinstance.reloadFunctionName = 'getListViewRecords';\n\t\t\tinstance.execute = ['updatePagination'];\n\t\t}\n\t\treturn instance;\n\t},\n\treloadList: function (params) {\n\t\tvar thisInstance = this;\n\t\tif (params == undefined) {\n\t\t\tparams = {'page': 1};\n\t\t}\n\t\tvar instance = this.getInstanceByView();\n\t\tif (instance) {\n\t\t\tvar funcName = instance.reloadFunctionName;\n\t\t\tif (jQuery.isFunction(instance[funcName])) {\n\t\t\t\tinstance[funcName](params).done(function () {\n\t\t\t\t\tthisInstance.resetPagination();\n\t\t\t\t\tthisInstance.executeFunctions(instance);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\texecuteFunctions: function (instance) {\n\t\tif (instance.execute) {\n\t\t\tvar func = instance.execute;\n\t\t\tfor (var i in func) {\n\t\t\t\tvar funcName = func[i];\n\t\t\t\tif (jQuery.isFunction(instance[funcName])) {\n\t\t\t\t\tinstance[funcName]();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tregisterBasicEvents: function () {\n\t\tthis.registerListViewSelect();\n\t\tthis.registerDateListSearch();\n\t\tthis.registerTimeListSearch();\n\t\tthis.registerAlphabetClick();\n\t\tthis.registerListSearch();\n\t\tthis.getContainer().find('select.select2').each(function (i, obj) {\n\t\t\tif (!$(obj).data('select2')) {\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView($(obj));\n\t\t\t}\n\t\t});\n\t},\n\t/**\n\t * Function which will regiter all events for this page\n\t */\n\tregisterEvents: function () {\n\t\tthis.registerBasicEvents();\n\t}\n});\n"],"names":["jQuery","Class","getInstance","container","noEvents","reletedInstance","moduleName","app","getModuleName","moduleClassName","module","instance","viewName","init","setContainer","getContainer","find","length","initialize","setViewName","registerEvents","getAlphabetSearchField","val","getAlphabetSearchValue","registerListSearch","listViewContainer","on","thisInstance","reloadList","e","keyCode","triggerListSearch","search_params","search_key","search_value","operator","registerListViewSelect","each","index","domElement","$","select","data","App","Fields","Picklist","showSelect2ElementView","placeholder","vtranslate","getMainParams","listInstance","value","prevVal","resetPagination","trigger","text","registerDateListSearch","Date","registerRange","registerTimeListSearch","registerEventForClockPicker","registerAlphabetClick","showModalWindow","html","registerEventForAlphabetSearch","getCurrentCvId","modalContainer","currentTarget","cvId","AlphabetSearchKey","viewname","alphabet","page","hideModalWindow","updatePaginationOnAlphabetChange","params","getParentModuleName","AppConnector","request","done","getInstanceView","isFunction","registerPageNavigationEvents","getListSearchParams","urlSearchParams","listViewTable","listViewPageDiv","searchParams","searchContributorElement","fieldInfo","fieldName","attr","searchValue","join","trim","hasOwnProperty","searchOperator","inArray","type","sourceFieldName","searchInfo","push","prop","searchInSubcategories","url","getUrlVar","charAt","lengthUrl","substr","JSON","parse","decodeURIComponent","searchParam","exist","indexOf","valueInSearch","split","fieldRelation","getInstanceByView","getViewName","reloadFunctionName","execute","Vtiger_Detail_Js","window","pageController","funcName","executeFunctions","func","i","registerBasicEvents","obj"],"mappings":"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"}